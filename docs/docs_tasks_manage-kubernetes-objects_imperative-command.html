<div class="td-content"><h1 data-pagefind-weight="10">Managing Kubernetes Objects Using Imperative Commands</h1><p>Kubernetes objects can quickly be created, updated, and deleted directly using
imperative commands built into the <code>kubectl</code> command-line tool. This document
explains how those commands are organized and how to use them to manage live objects.</p><h2 id="before-you-begin">Before you begin</h2><p>Install <a href="/docs/tasks/tools/"><code>kubectl</code></a>.</p><p><p>You need to have a Kubernetes cluster, and the kubectl command-line tool must
be configured to communicate with your cluster. It is recommended to run this tutorial on a cluster with at least two nodes that are not acting as control plane hosts. If you do not already have a
cluster, you can create one by using
<a href="https://minikube.sigs.k8s.io/docs/tutorials/multi_node/">minikube</a>
or you can use one of these Kubernetes playgrounds:</p><ul><li><a href="https://labs.iximiuz.com/playgrounds?category=kubernetes&amp;filter=all">iximiuz Labs</a></li><li><a href="https://killercoda.com/playgrounds/scenario/kubernetes">Killercoda</a></li><li><a href="https://kodekloud.com/public-playgrounds">KodeKloud</a></li><li><a href="https://labs.play-with-k8s.com/">Play with Kubernetes</a></li></ul><p>To check the version, enter <code>kubectl version</code>.</p></p><h2 id="trade-offs">Trade-offs</h2><p>The <code>kubectl</code> tool supports three kinds of object management:</p><ul><li>Imperative commands</li><li>Imperative object configuration</li><li>Declarative object configuration</li></ul><p>See <a href="/docs/concepts/overview/working-with-objects/object-management/">Kubernetes Object Management</a>
for a discussion of the advantages and disadvantage of each kind of object management.</p><h2 id="how-to-create-objects">How to create objects</h2><p>The <code>kubectl</code> tool supports verb-driven commands for creating some of the most common
object types. The commands are named to be recognizable to users unfamiliar with
the Kubernetes object types.</p><ul><li><code>run</code>: Create a new Pod to run a Container.</li><li><code>expose</code>: Create a new Service object to load balance traffic across Pods.</li><li><code>autoscale</code>: Create a new Autoscaler object to automatically horizontally scale a controller, such as a Deployment.</li></ul><p>The <code>kubectl</code> tool also supports creation commands driven by object type.
These commands support more object types and are more explicit about
their intent, but require users to know the type of objects they intend
to create.</p><ul><li><code>create &lt;objecttype&gt; [&lt;subtype&gt;] &lt;instancename&gt;</code></li></ul><p>Some objects types have subtypes that you can specify in the <code>create</code> command.
For example, the Service object has several subtypes including ClusterIP,
LoadBalancer, and NodePort. Here's an example that creates a Service with
subtype NodePort:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="display:flex"><span>kubectl create service nodeport &lt;myservicename&gt;
</span></span></code></pre></div><p>In the preceding example, the <code>create service nodeport</code> command is called
a subcommand of the <code>create service</code> command.</p><p>You can use the <code>-h</code> flag to find the arguments and flags supported by
a subcommand:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="display:flex"><span>kubectl create service nodeport -h
</span></span></code></pre></div><h2 id="how-to-update-objects">How to update objects</h2><p>The <code>kubectl</code> command supports verb-driven commands for some common update operations.
These commands are named to enable users unfamiliar with Kubernetes
objects to perform updates without knowing the specific fields
that must be set:</p><ul><li><code>scale</code>: Horizontally scale a controller to add or remove Pods by updating the replica count of the controller.</li><li><code>annotate</code>: Add or remove an annotation from an object.</li><li><code>label</code>: Add or remove a label from an object.</li></ul><p>The <code>kubectl</code> command also supports update commands driven by an aspect of the object.
Setting this aspect may set different fields for different object types:</p><ul><li><code>set</code> <code>&lt;field&gt;</code>: Set an aspect of an object.</li></ul><div class="alert alert-info" role="alert"><h4 class="alert-heading">Note:</h4>In Kubernetes version 1.5, not every verb-driven command has an associated aspect-driven command.</div><p>The <code>kubectl</code> tool supports these additional ways to update a live object directly,
however they require a better understanding of the Kubernetes object schema.</p><ul><li><code>edit</code>: Directly edit the raw configuration of a live object by opening its configuration in an editor.</li><li><code>patch</code>: Directly modify specific fields of a live object by using a patch string.
For more details on patch strings, see the patch section in
<a href="https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#patch-operations">API Conventions</a>.</li></ul><h2 id="how-to-delete-objects">How to delete objects</h2><p>You can use the <code>delete</code> command to delete an object from a cluster:</p><ul><li><code>delete &lt;type&gt;/&lt;name&gt;</code></li></ul><div class="alert alert-info" role="alert"><h4 class="alert-heading">Note:</h4>You can use <code>kubectl delete</code> for both imperative commands and imperative object
configuration. The difference is in the arguments passed to the command. To use
<code>kubectl delete</code> as an imperative command, pass the object to be deleted as
an argument. Here's an example that passes a Deployment object named nginx:</div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="display:flex"><span>kubectl delete deployment/nginx
</span></span></code></pre></div><h2 id="how-to-view-an-object">How to view an object</h2><p>There are several commands for printing information about an object:</p><ul><li><code>get</code>: Prints basic information about matching objects. Use <code>get -h</code> to see a list of options.</li><li><code>describe</code>: Prints aggregated detailed information about matching objects.</li><li><code>logs</code>: Prints the stdout and stderr for a container running in a Pod.</li></ul><h2 id="using-set-commands-to-modify-objects-before-creation">Using <code>set</code> commands to modify objects before creation</h2><p>There are some object fields that don't have a flag you can use
in a <code>create</code> command. In some of those cases, you can use a combination of
<code>set</code> and <code>create</code> to specify a value for the field before object
creation. This is done by piping the output of the <code>create</code> command to the
<code>set</code> command, and then back to the <code>create</code> command. Here's an example:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="display:flex"><span>kubectl create service clusterip my-svc --clusterip<span style="color:#666">=</span><span style="color:#b44">"None"</span> -o yaml --dry-run<span style="color:#666">=</span>client | kubectl <span style="color:#a2f">set</span> selector --local -f - <span style="color:#b44">'environment=qa'</span> -o yaml | kubectl create -f -
</span></span></code></pre></div><ol><li>The <code>kubectl create service -o yaml --dry-run=client</code> command creates the configuration for the Service, but prints it to stdout as YAML instead of sending it to the Kubernetes API server.</li><li>The <code>kubectl set selector --local -f - -o yaml</code> command reads the configuration from stdin, and writes the updated configuration to stdout as YAML.</li><li>The <code>kubectl create -f -</code> command creates the object using the configuration provided via stdin.</li></ol><h2 id="using-edit-to-modify-objects-before-creation">Using <code>--edit</code> to modify objects before creation</h2><p>You can use <code>kubectl create --edit</code> to make arbitrary changes to an object
before it is created. Here's an example:</p><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="display:flex"><span>kubectl create service clusterip my-svc --clusterip<span style="color:#666">=</span><span style="color:#b44">"None"</span> -o yaml --dry-run<span style="color:#666">=</span>client &gt; /tmp/srv.yaml
</span></span><span style="display:flex"><span>kubectl create --edit -f /tmp/srv.yaml
</span></span></code></pre></div><ol><li>The <code>kubectl create service</code> command creates the configuration for the Service and saves it to <code>/tmp/srv.yaml</code>.</li><li>The <code>kubectl create --edit</code> command opens the configuration file for editing before it creates the object.</li></ol><h2 id="what-s-next">What's next</h2><ul><li><a href="/docs/tasks/manage-kubernetes-objects/imperative-config/">Imperative Management of Kubernetes Objects Using Configuration Files</a></li><li><a href="/docs/tasks/manage-kubernetes-objects/declarative-config/">Declarative Management of Kubernetes Objects Using Configuration Files</a></li><li><a href="/docs/reference/generated/kubectl/kubectl-commands/">Kubectl Command Reference</a></li><li><a href="/docs/reference/generated/kubernetes-api/v1.34/">Kubernetes API Reference</a></li></ul></div>