<div class="td-content"><h1 data-pagefind-weight="10">kubeadm upgrade phases</h1><h2 id="cmd-apply-phase">kubeadm upgrade apply phase</h2><p>Using the phases of <code>kubeadm upgrade apply</code>, you can choose to execute the separate steps of the initial upgrade
of a control plane node.</p><ul class="nav nav-tabs" id="tab-apply-phase" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-apply-phase-0" role="tab" aria-controls="tab-apply-phase-0" aria-selected="true">phase</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-apply-phase-1" role="tab" aria-controls="tab-apply-phase-1">preflight</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-apply-phase-2" role="tab" aria-controls="tab-apply-phase-2">control-plane</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-apply-phase-3" role="tab" aria-controls="tab-apply-phase-3">upload-config</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-apply-phase-4" role="tab" aria-controls="tab-apply-phase-4">kubelet-config</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-apply-phase-5" role="tab" aria-controls="tab-apply-phase-5">bootstrap-token</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-apply-phase-6" role="tab" aria-controls="tab-apply-phase-6">addon</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-apply-phase-7" role="tab" aria-controls="tab-apply-phase-7">post-upgrade</a></li></ul><div class="tab-content" id="tab-apply-phase"><div id="tab-apply-phase-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-apply-phase-0"><p><h3 id="synopsis">Synopsis</h3><p>Use this command to invoke single phase of the "apply" workflow</p><pre tabindex="0"><code>kubeadm upgrade apply phase [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for phase</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-apply-phase-1" class="tab-pane" role="tabpanel" aria-labelledby="tab-apply-phase-1"><p><h3 id="synopsis">Synopsis</h3><p>Run preflight checks before upgrade</p><pre tabindex="0"><code>kubeadm upgrade apply phase preflight [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--allow-experimental-upgrades</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Show unstable versions of Kubernetes as an upgrade alternative and allow upgrading to an alpha/beta/release candidate versions of Kubernetes.</p></td></tr><tr><td colspan="2">--allow-release-candidate-upgrades</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Show release candidate versions of Kubernetes as an upgrade alternative and allow upgrading to a release candidate versions of Kubernetes.</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Do not change any state, just output what actions would be performed.</p></td></tr><tr><td colspan="2">-f, --force</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Force upgrading although some requirements might not be met. This also implies non-interactive mode.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for preflight</p></td></tr><tr><td colspan="2">--ignore-preflight-errors strings</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr><tr><td colspan="2">-y, --yes</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Perform the upgrade and do not prompt for confirmation (non-interactive mode).</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-apply-phase-2" class="tab-pane" role="tabpanel" aria-labelledby="tab-apply-phase-2"><p><h3 id="synopsis">Synopsis</h3><p>Upgrade the control plane</p><pre tabindex="0"><code>kubeadm upgrade apply phase control-plane [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--certificate-renewal     Default: true</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Perform the renewal of certificates used by component changed during upgrades.</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Do not change any state, just output what actions would be performed.</p></td></tr><tr><td colspan="2">--etcd-upgrade     Default: true</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Perform the upgrade of etcd.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for control-plane</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr><tr><td colspan="2">--patches string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd", "kubeletconfiguration", "corednsdeployment". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-apply-phase-3" class="tab-pane" role="tabpanel" aria-labelledby="tab-apply-phase-3"><p><h3 id="synopsis">Synopsis</h3><p>Upload the kubeadm and kubelet configurations to ConfigMaps</p><pre tabindex="0"><code>kubeadm upgrade apply phase upload-config [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for upload-config</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-apply-phase-4" class="tab-pane" role="tabpanel" aria-labelledby="tab-apply-phase-4"><p><h3 id="synopsis">Synopsis</h3><p>Upgrade the kubelet configuration for this node by downloading it from the kubelet-config ConfigMap stored in the cluster</p><pre tabindex="0"><code>kubeadm upgrade apply phase kubelet-config [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Do not change any state, just output what actions would be performed.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for kubelet-config</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr><tr><td colspan="2">--patches string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd", "kubeletconfiguration", "corednsdeployment". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-apply-phase-5" class="tab-pane" role="tabpanel" aria-labelledby="tab-apply-phase-5"><p><h3 id="synopsis">Synopsis</h3><p>Configures bootstrap token and cluster-info RBAC rules</p><pre tabindex="0"><code>kubeadm upgrade apply phase bootstrap-token [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Do not change any state, just output what actions would be performed.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for bootstrap-token</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-apply-phase-6" class="tab-pane" role="tabpanel" aria-labelledby="tab-apply-phase-6"><p><h3 id="synopsis">Synopsis</h3><p>Upgrade the default kubeadm addons</p><pre tabindex="0"><code>kubeadm upgrade apply phase addon [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for addon</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-apply-phase-7" class="tab-pane" role="tabpanel" aria-labelledby="tab-apply-phase-7"><p><h3 id="synopsis">Synopsis</h3><p>Run post upgrade tasks</p><pre tabindex="0"><code>kubeadm upgrade apply phase post-upgrade [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Do not change any state, just output what actions would be performed.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for post-upgrade</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="cmd-node-phase">kubeadm upgrade node phase</h2><p>Using the phases of <code>kubeadm upgrade node</code> you can choose to execute the separate steps of the upgrade of
secondary control-plane or worker nodes.</p><ul class="nav nav-tabs" id="tab-upgrade-phase" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-upgrade-phase-0" role="tab" aria-controls="tab-upgrade-phase-0" aria-selected="true">phase</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-upgrade-phase-1" role="tab" aria-controls="tab-upgrade-phase-1">preflight</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-upgrade-phase-2" role="tab" aria-controls="tab-upgrade-phase-2">control-plane</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-upgrade-phase-3" role="tab" aria-controls="tab-upgrade-phase-3">kubelet-config</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-upgrade-phase-4" role="tab" aria-controls="tab-upgrade-phase-4">addon</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-upgrade-phase-5" role="tab" aria-controls="tab-upgrade-phase-5">post-upgrade</a></li></ul><div class="tab-content" id="tab-upgrade-phase"><div id="tab-upgrade-phase-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-upgrade-phase-0"><p><h3 id="synopsis">Synopsis</h3><p>Use this command to invoke single phase of the "node" workflow</p><pre tabindex="0"><code>kubeadm upgrade node phase [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for phase</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-upgrade-phase-1" class="tab-pane" role="tabpanel" aria-labelledby="tab-upgrade-phase-1"><p><p>Run upgrade node pre-flight checks</p><h3 id="synopsis">Synopsis</h3><p>Run pre-flight checks for kubeadm upgrade node.</p><pre tabindex="0"><code>kubeadm upgrade node phase preflight [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for preflight</p></td></tr><tr><td colspan="2">--ignore-preflight-errors strings</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-upgrade-phase-2" class="tab-pane" role="tabpanel" aria-labelledby="tab-upgrade-phase-2"><p><h3 id="synopsis">Synopsis</h3><p>Upgrade the control plane instance deployed on this node, if any</p><pre tabindex="0"><code>kubeadm upgrade node phase control-plane [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--certificate-renewal     Default: true</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Perform the renewal of certificates used by component changed during upgrades.</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Do not change any state, just output the actions that would be performed.</p></td></tr><tr><td colspan="2">--etcd-upgrade     Default: true</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Perform the upgrade of etcd.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for control-plane</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr><tr><td colspan="2">--patches string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd", "kubeletconfiguration", "corednsdeployment". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-upgrade-phase-3" class="tab-pane" role="tabpanel" aria-labelledby="tab-upgrade-phase-3"><p><h3 id="synopsis">Synopsis</h3><p>Upgrade the kubelet configuration for this node by downloading it from the kubelet-config ConfigMap stored in the cluster</p><pre tabindex="0"><code>kubeadm upgrade node phase kubelet-config [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Do not change any state, just output the actions that would be performed.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for kubelet-config</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr><tr><td colspan="2">--patches string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a directory that contains files named "target[suffix][+patchtype].extension". For example, "kube-apiserver0+merge.yaml" or just "etcd.json". "target" can be one of "kube-apiserver", "kube-controller-manager", "kube-scheduler", "etcd", "kubeletconfiguration", "corednsdeployment". "patchtype" can be one of "strategic", "merge" or "json" and they match the patch formats supported by kubectl. The default "patchtype" is "strategic". "extension" must be either "json" or "yaml". "suffix" is an optional string that can be used to determine which patches are applied first alpha-numerically.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-upgrade-phase-4" class="tab-pane" role="tabpanel" aria-labelledby="tab-upgrade-phase-4"><p><h3 id="synopsis">Synopsis</h3><p>Upgrade the default kubeadm addons</p><pre tabindex="0"><code>kubeadm upgrade node phase addon [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for addon</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-upgrade-phase-5" class="tab-pane" role="tabpanel" aria-labelledby="tab-upgrade-phase-5"><p><h3 id="synopsis">Synopsis</h3><p>Run post upgrade tasks</p><pre tabindex="0"><code>kubeadm upgrade node phase post-upgrade [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Do not change any state, just output the actions that would be performed.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for post-upgrade</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="what-s-next">What's next</h2><ul><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-init/">kubeadm init</a> to bootstrap a Kubernetes control-plane node</li><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-join/">kubeadm join</a> to connect a node to the cluster</li><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-reset/">kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-upgrade/">kubeadm upgrade</a> to upgrade a kubeadm node</li><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-alpha/">kubeadm alpha</a> to try experimental functionality</li></ul></div>