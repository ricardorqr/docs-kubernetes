<div class="td-content"><h1 data-pagefind-weight="10">kubectl diff</h1><h2 id="synopsis">Synopsis</h2><p>Diff configurations specified by file name or stdin between the current online configuration, and the configuration as it would be if applied.</p><p>The output is always YAML.</p><p>KUBECTL_EXTERNAL_DIFF environment variable can be used to select your own diff command. Users can use external commands with params too, example: KUBECTL_EXTERNAL_DIFF="colordiff -N -u"</p><p>By default, the "diff" command available in your path will be run with the "-u" (unified diff) and "-N" (treat absent files as empty) options.</p><p>Exit status: 0 No differences were found. 1 Differences were found. &gt;1 Kubectl or diff failed with an error.</p><p>Note: KUBECTL_EXTERNAL_DIFF, if used, is expected to follow that convention.</p><pre tabindex="0"><code>kubectl diff -f FILENAME
</code></pre><h2 id="examples">Examples</h2><pre tabindex="0"><code>  # Diff resources included in pod.json
  kubectl diff -f pod.json
  
  # Diff file read from stdin
  cat service.yaml | kubectl diff -f -
</code></pre><h2 id="options">Options</h2><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--concurrency int     Default: 1</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Number of objects to process in parallel when diffing against the live version. Larger number = faster, but more memory, I/O and CPU over that shorter period of time.</p></td></tr><tr><td colspan="2">--field-manager string     Default: "kubectl-client-side-apply"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Name of the manager used to track field ownership.</p></td></tr><tr><td colspan="2">-f, --filename strings</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Filename, directory, or URL to files contains the configuration to diff</p></td></tr><tr><td colspan="2">--force-conflicts</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, server-side apply will force the changes against conflicts.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for diff</p></td></tr><tr><td colspan="2">-k, --kustomize string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Process the kustomization directory. This flag can't be used together with -f or -R.</p></td></tr><tr><td colspan="2">--prune</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Include resources that would be deleted by pruning. Can be used with -l and default shows all resources would be pruned</p></td></tr><tr><td colspan="2">--prune-allowlist strings</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Overwrite the default allowlist with &lt;group/version/kind&gt; for --prune</p></td></tr><tr><td colspan="2">-R, --recursive</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Process the directory used in -f, --filename recursively. Useful when you want to manage related manifests organized within the same directory.</p></td></tr><tr><td colspan="2">-l, --selector string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Selector (label query) to filter on, supports '=', '==', '!=', 'in', 'notin'.(e.g. -l key1=value1,key2=value2,key3 in (value3)). Matching objects must satisfy all of the specified label constraints.</p></td></tr><tr><td colspan="2">--server-side</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, apply runs in the server instead of the client.</p></td></tr><tr><td colspan="2">--show-managed-fields</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, include managed fields in the diff.</p></td></tr></tbody></table><h2 id="parent-options-inherited">Parent Options Inherited</h2><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--as string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Username to impersonate for the operation. User could be a regular user or a service account in a namespace.</p></td></tr><tr><td colspan="2">--as-group strings</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Group to impersonate for the operation, this flag can be repeated to specify multiple groups.</p></td></tr><tr><td colspan="2">--as-uid string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>UID to impersonate for the operation.</p></td></tr><tr><td colspan="2">--cache-dir string     Default: "$HOME/.kube/cache"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Default cache directory</p></td></tr><tr><td colspan="2">--certificate-authority string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a cert file for the certificate authority</p></td></tr><tr><td colspan="2">--client-certificate string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a client certificate file for TLS</p></td></tr><tr><td colspan="2">--client-key string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a client key file for TLS</p></td></tr><tr><td colspan="2">--cluster string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The name of the kubeconfig cluster to use</p></td></tr><tr><td colspan="2">--context string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The name of the kubeconfig context to use</p></td></tr><tr><td colspan="2">--disable-compression</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, opt-out of response compression for all requests to the server</p></td></tr><tr><td colspan="2">--insecure-skip-tls-verify</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, the server's certificate will not be checked for validity. This will make your HTTPS connections insecure</p></td></tr><tr><td colspan="2">--kubeconfig string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to the kubeconfig file to use for CLI requests.</p></td></tr><tr><td colspan="2">--kuberc string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to the kuberc file to use for preferences. This can be disabled by exporting KUBECTL_KUBERC=false feature gate or turning off the feature KUBERC=off.</p></td></tr><tr><td colspan="2">--match-server-version</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Require server version to match client version</p></td></tr><tr><td colspan="2">-n, --namespace string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If present, the namespace scope for this CLI request</p></td></tr><tr><td colspan="2">--password string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Password for basic authentication to the API server</p></td></tr><tr><td colspan="2">--profile string     Default: "none"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Name of profile to capture. One of (none|cpu|heap|goroutine|threadcreate|block|mutex)</p></td></tr><tr><td colspan="2">--profile-output string     Default: "profile.pprof"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Name of the file to write the profile to</p></td></tr><tr><td colspan="2">--request-timeout string     Default: "0"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The length of time to wait before giving up on a single server request. Non-zero values should contain a corresponding time unit (e.g. 1s, 2m, 3h). A value of zero means don't timeout requests.</p></td></tr><tr><td colspan="2">-s, --server string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The address and port of the Kubernetes API server</p></td></tr><tr><td colspan="2">--storage-driver-buffer-duration duration     Default: 1m0s</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Writes in the storage driver will be buffered for this duration, and committed to the non memory backends as a single transaction</p></td></tr><tr><td colspan="2">--storage-driver-db string     Default: "cadvisor"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>database name</p></td></tr><tr><td colspan="2">--storage-driver-host string     Default: "localhost:8086"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>database host:port</p></td></tr><tr><td colspan="2">--storage-driver-password string     Default: "root"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>database password</p></td></tr><tr><td colspan="2">--storage-driver-secure</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>use secure connection with database</p></td></tr><tr><td colspan="2">--storage-driver-table string     Default: "stats"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>table name</p></td></tr><tr><td colspan="2">--storage-driver-user string     Default: "root"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>database username</p></td></tr><tr><td colspan="2">--tls-server-name string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Server name to use for server certificate validation. If it is not provided, the hostname used to contact the server is used</p></td></tr><tr><td colspan="2">--token string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Bearer token for authentication to the API server</p></td></tr><tr><td colspan="2">--user string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The name of the kubeconfig user to use</p></td></tr><tr><td colspan="2">--username string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Username for basic authentication to the API server</p></td></tr><tr><td colspan="2">--version version[=true]</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>--version, --version=raw prints version information and quits; --version=vX.Y.Z... sets the reported version</p></td></tr><tr><td colspan="2">--warnings-as-errors</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Treat warnings received from the server as errors and exit with a non-zero exit code</p></td></tr></tbody></table><h2 id="see-also">See Also</h2><ul><li><a href="../kubectl/">kubectl</a> - kubectl controls the Kubernetes cluster manager</li></ul><div class="section-index"/></div>