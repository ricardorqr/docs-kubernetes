<div class="td-content"><h1 data-pagefind-weight="10">kubeadm reset phase</h1><p><code>kubeadm reset phase</code> enables you to invoke atomic steps of the node reset process.
Hence, you can let kubeadm do some of the work and you can fill in the gaps
if you wish to apply customization.</p><p><code>kubeadm reset phase</code> is consistent with the <a href="/docs/reference/setup-tools/kubeadm/kubeadm-reset/#reset-workflow">kubeadm reset workflow</a>,
and behind the scene both use the same code.</p><h2 id="cmd-reset-phase">kubeadm reset phase</h2><ul class="nav nav-tabs" id="tab-phase" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-phase-0" role="tab" aria-controls="tab-phase-0" aria-selected="true">phase</a></li></ul><div class="tab-content" id="tab-phase"><div id="tab-phase-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-phase-0"><p><h3 id="synopsis">Synopsis</h3><p>Use this command to invoke single phase of the "reset" workflow</p><pre tabindex="0"><code>kubeadm reset phase [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for phase</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="cmd-reset-phase-preflight">kubeadm reset phase preflight</h2><p>Using this phase you can execute preflight checks on a node that is being reset.</p><ul class="nav nav-tabs" id="tab-preflight" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-preflight-0" role="tab" aria-controls="tab-preflight-0" aria-selected="true">preflight</a></li></ul><div class="tab-content" id="tab-preflight"><div id="tab-preflight-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-preflight-0"><p><p>Run reset pre-flight checks</p><h3 id="synopsis">Synopsis</h3><p>Run pre-flight checks for kubeadm reset.</p><pre tabindex="0"><code>kubeadm reset phase preflight [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Don't apply any changes; just output what would be done.</p></td></tr><tr><td colspan="2">-f, --force</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Reset the node without prompting for confirmation.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for preflight</p></td></tr><tr><td colspan="2">--ignore-preflight-errors strings</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>A list of checks whose errors will be shown as warnings. Example: 'IsPrivilegedUser,Swap'. Value 'all' ignores errors from all checks.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="cmd-reset-phase-remove-etcd-member">kubeadm reset phase remove-etcd-member</h2><p>Using this phase you can remove this control-plane node's etcd member from the etcd cluster.</p><ul class="nav nav-tabs" id="tab-remove-etcd-member" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-remove-etcd-member-0" role="tab" aria-controls="tab-remove-etcd-member-0" aria-selected="true">remove-etcd-member</a></li></ul><div class="tab-content" id="tab-remove-etcd-member"><div id="tab-remove-etcd-member-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-remove-etcd-member-0"><p><h3 id="synopsis">Synopsis</h3><p>Remove a local etcd member for a control plane node.</p><pre tabindex="0"><code>kubeadm reset phase remove-etcd-member [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Don't apply any changes; just output what would be done.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for remove-etcd-member</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="cmd-reset-phase-cleanup-node">kubeadm reset phase cleanup-node</h2><p>Using this phase you can perform cleanup on this node.</p><ul class="nav nav-tabs" id="tab-cleanup-node" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-cleanup-node-0" role="tab" aria-controls="tab-cleanup-node-0" aria-selected="true">cleanup-node</a></li></ul><div class="tab-content" id="tab-cleanup-node"><div id="tab-cleanup-node-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-cleanup-node-0"><p><h3 id="synopsis">Synopsis</h3><p>Run cleanup node.</p><pre tabindex="0"><code>kubeadm reset phase cleanup-node [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the directory where the certificates are stored. If specified, clean this directory.</p></td></tr><tr><td colspan="2">--cleanup-tmp-dir</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Cleanup the "/etc/kubernetes/tmp" directory</p></td></tr><tr><td colspan="2">--cri-socket string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to the CRI socket to connect. If empty kubeadm will try to auto-detect this value; use this option only if you have more than one CRI installed or if you have non-standard CRI socket.</p></td></tr><tr><td colspan="2">--dry-run</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Don't apply any changes; just output what would be done.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for cleanup-node</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="what-s-next">What's next</h2><ul><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-init/">kubeadm init</a> to bootstrap a Kubernetes control-plane node</li><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-join/">kubeadm join</a> to connect a node to the cluster</li><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-reset/">kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-alpha/">kubeadm alpha</a> to try experimental functionality</li></ul></div>