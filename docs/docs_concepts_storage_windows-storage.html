<div class="td-content"><h1 data-pagefind-weight="10">Windows Storage</h1><p>This page provides an storage overview specific to the Windows operating system.</p><h2 id="storage">Persistent storage</h2><p>Windows has a layered filesystem driver to mount container layers and create a copy
filesystem based on NTFS. All file paths in the container are resolved only within
the context of that container.</p><ul><li>With Docker, volume mounts can only target a directory in the container, and not
an individual file. This limitation does not apply to containerd.</li><li>Volume mounts cannot project files or directories back to the host filesystem.</li><li>Read-only filesystems are not supported because write access is always required
for the Windows registry and SAM database. However, read-only volumes are supported.</li><li>Volume user-masks and permissions are not available. Because the SAM is not shared
between the host &amp; container, there's no mapping between them. All permissions are
resolved within the context of the container.</li></ul><p>As a result, the following storage functionality is not supported on Windows nodes:</p><ul><li>Volume subpath mounts: only the entire volume can be mounted in a Windows container</li><li>Subpath volume mounting for Secrets</li><li>Host mount projection</li><li>Read-only root filesystem (mapped volumes still support <code>readOnly</code>)</li><li>Block device mapping</li><li>Memory as the storage medium (for example, <code>emptyDir.medium</code> set to <code>Memory</code>)</li><li>File system features like uid/gid; per-user Linux filesystem permissions</li><li>Setting <a href="/docs/tasks/inject-data-application/distribute-credentials-secure/#set-posix-permissions-for-secret-keys">secret permissions with DefaultMode</a> (due to UID/GID dependency)</li><li>NFS based storage/volume support</li><li>Expanding the mounted volume (resizefs)</li></ul><p>Kubernetes <a class="glossary-tooltip" title="A directory containing data, accessible to the containers in a pod." data-toggle="tooltip" data-placement="top" href="/docs/concepts/storage/volumes/" target="_blank" aria-label="volumes">volumes</a> enable complex
applications, with data persistence and Pod volume sharing requirements, to be deployed
on Kubernetes. Management of persistent volumes associated with a specific storage
back-end or protocol includes actions such as provisioning/de-provisioning/resizing
of volumes, attaching/detaching a volume to/from a Kubernetes node and
mounting/dismounting a volume to/from individual containers in a pod that needs to
persist data.</p><p>Volume management components are shipped as Kubernetes volume
<a href="/docs/concepts/storage/volumes/#volume-types">plugin</a>.
The following broad classes of Kubernetes volume plugins are supported on Windows:</p><ul><li><a href="/docs/concepts/storage/volumes/#flexvolume"><code>FlexVolume plugins</code></a><ul><li>Please note that FlexVolumes have been deprecated as of 1.23</li></ul></li><li><a href="/docs/concepts/storage/volumes/#csi"><code>CSI Plugins</code></a></li></ul><h5 id="in-tree-volume-plugins">In-tree volume plugins</h5><p>The following in-tree plugins support persistent storage on Windows nodes:</p><ul><li><a href="/docs/concepts/storage/volumes/#azurefile"><code>azureFile</code></a></li><li><a href="/docs/concepts/storage/volumes/#vspherevolume"><code>vsphereVolume</code></a></li></ul></div>