<div class="td-content"><h1 data-pagefind-weight="10">kubectl Usage Conventions</h1><p>Recommended usage conventions for <code>kubectl</code>.</p><h2 id="using-kubectl-in-reusable-scripts">Using <code>kubectl</code> in Reusable Scripts</h2><p>For a stable output in a script:</p><ul><li>Request one of the machine-oriented output forms, such as <code>-o name</code>, <code>-o json</code>, <code>-o yaml</code>, <code>-o go-template</code>, or <code>-o jsonpath</code>.</li><li>Fully-qualify the version. For example, <code>jobs.v1.batch/myjob</code>. This will ensure that kubectl does not use its default version that can change over time.</li><li>Don't rely on context, preferences, or other implicit states.</li></ul><h2 id="subresources">Subresources</h2><ul><li>You can use the <code>--subresource</code> argument for kubectl subcommands such as <code>get</code>, <code>patch</code>,
<code>edit</code>, <code>apply</code> and <code>replace</code> to fetch and update subresources for all resources that
support them. In Kubernetes version 1.34, only the <code>status</code>, <code>scale</code>
and <code>resize</code> subresources are supported.<ul><li>For <code>kubectl edit</code>, the <code>scale</code> subresource is not supported. If you use <code>--subresource</code> with
<code>kubectl edit</code> and specify <code>scale</code> as the subresource, the command will error out.</li></ul></li><li>The API contract against a subresource is identical to a full resource. While updating the
<code>status</code> subresource to a new value, keep in mind that the subresource could be potentially
reconciled by a controller to a different value.</li></ul><h2 id="best-practices">Best Practices</h2><h3 id="kubectl-run"><code>kubectl run</code></h3><p>For <code>kubectl run</code> to satisfy infrastructure as code:</p><ul><li>Tag the image with a version-specific tag and don't move that tag to a new version. For example, use <code>:v1234</code>, <code>v1.2.3</code>, <code>r03062016-1-4</code>, rather than <code>:latest</code> (For more information, see <a href="/docs/concepts/configuration/overview/#container-images">Best Practices for Configuration</a>).</li><li>Check in the script for an image that is heavily parameterized.</li><li>Switch to configuration files checked into source control for features that are needed, but not expressible via <code>kubectl run</code> flags.</li></ul><p>You can use the <code>--dry-run=client</code> flag to preview the object that would be sent to your cluster, without really submitting it.</p><h3 id="kubectl-apply"><code>kubectl apply</code></h3><ul><li>You can use <code>kubectl apply</code> to create or update resources. For more information about using kubectl apply to update resources, see <a href="https://kubectl.docs.kubernetes.io">Kubectl Book</a>.</li></ul></div>