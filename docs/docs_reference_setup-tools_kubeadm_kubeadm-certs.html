<div class="td-content"><h1 data-pagefind-weight="10">kubeadm certs</h1><p><code>kubeadm certs</code> provides utilities for managing certificates.
For more details on how these commands can be used, see
<a href="/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/">Certificate Management with kubeadm</a>.</p><h2 id="cmd-certs">kubeadm certs</h2><p>A collection of operations for operating Kubernetes certificates.</p><ul class="nav nav-tabs" id="tab-certs" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-certs-0" role="tab" aria-controls="tab-certs-0" aria-selected="true">overview</a></li></ul><div class="tab-content" id="tab-certs"><div id="tab-certs-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-certs-0"><p><h3 id="synopsis">Synopsis</h3><p>Commands related to handling Kubernetes certificates</p><pre tabindex="0"><code>kubeadm certs [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for certs</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="cmd-certs-renew">kubeadm certs renew</h2><p>You can renew all Kubernetes certificates using the <code>all</code> subcommand or renew them selectively.
For more details see <a href="/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/#manual-certificate-renewal">Manual certificate renewal</a>.</p><ul class="nav nav-tabs" id="tab-certs-renew" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-certs-renew-0" role="tab" aria-controls="tab-certs-renew-0" aria-selected="true">renew</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-1" role="tab" aria-controls="tab-certs-renew-1">all</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-2" role="tab" aria-controls="tab-certs-renew-2">admin.conf</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-3" role="tab" aria-controls="tab-certs-renew-3">apiserver-etcd-client</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-4" role="tab" aria-controls="tab-certs-renew-4">apiserver-kubelet-client</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-5" role="tab" aria-controls="tab-certs-renew-5">apiserver</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-6" role="tab" aria-controls="tab-certs-renew-6">controller-manager.conf</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-7" role="tab" aria-controls="tab-certs-renew-7">etcd-healthcheck-client</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-8" role="tab" aria-controls="tab-certs-renew-8">etcd-peer</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-9" role="tab" aria-controls="tab-certs-renew-9">etcd-server</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-10" role="tab" aria-controls="tab-certs-renew-10">front-proxy-client</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-11" role="tab" aria-controls="tab-certs-renew-11">scheduler.conf</a></li><li class="nav-item"><a data-toggle="tab" class="nav-link" href="#tab-certs-renew-12" role="tab" aria-controls="tab-certs-renew-12">super-admin.conf</a></li></ul><div class="tab-content" id="tab-certs-renew"><div id="tab-certs-renew-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-certs-renew-0"><p><h3 id="synopsis">Synopsis</h3><p>Renew certificates for a Kubernetes cluster</p><pre tabindex="0"><code>kubeadm certs renew [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for renew</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-1" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-1"><p><p>Renew all available certificates</p><h3 id="synopsis">Synopsis</h3><p>Renew all known certificates necessary to run the control plane. Renewals are run unconditionally, regardless of expiration date. Renewals can also be run individually for more control.</p><pre tabindex="0"><code>kubeadm certs renew all [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for all</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-2" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-2"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate embedded in the kubeconfig file for the admin to use and for kubeadm itself.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew admin.conf [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for admin.conf</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-3" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-3"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate the apiserver uses to access etcd.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew apiserver-etcd-client [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for apiserver-etcd-client</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-4" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-4"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate for the API server to connect to kubelet.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew apiserver-kubelet-client [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for apiserver-kubelet-client</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-5" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-5"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate for serving the Kubernetes API.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew apiserver [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for apiserver</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-6" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-6"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate embedded in the kubeconfig file for the controller manager to use.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew controller-manager.conf [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for controller-manager.conf</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-7" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-7"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate for liveness probes to healthcheck etcd.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew etcd-healthcheck-client [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for etcd-healthcheck-client</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-8" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-8"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate for etcd nodes to communicate with each other.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew etcd-peer [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for etcd-peer</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-9" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-9"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate for serving etcd.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew etcd-server [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for etcd-server</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-10" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-10"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate for the front proxy client.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew front-proxy-client [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for front-proxy-client</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-11" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-11"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate embedded in the kubeconfig file for the scheduler manager to use.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew scheduler.conf [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for scheduler.conf</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div><div id="tab-certs-renew-12" class="tab-pane" role="tabpanel" aria-labelledby="tab-certs-renew-12"><p><h3 id="synopsis">Synopsis</h3><p>Renew the certificate embedded in the kubeconfig file for the super-admin.</p><p>Renewals run unconditionally, regardless of certificate expiration date; extra attributes such as SANs will be based on the existing file/certificates, there is no need to resupply them.</p><p>Renewal by default tries to use the certificate authority in the local PKI managed by kubeadm; as alternative it is possible to use K8s certificate API for certificate renewal, or as a last option, to generate a CSR request.</p><p>After renewal, in order to make changes effective, is required to restart control-plane components and eventually re-distribute the renewed certificate in case the file is used elsewhere.</p><pre tabindex="0"><code>kubeadm certs renew super-admin.conf [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for super-admin.conf</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="cmd-certs-certificate-key">kubeadm certs certificate-key</h2><p>This command can be used to generate a new control-plane certificate key.
The key can be passed as <code>--certificate-key</code> to <a href="/docs/reference/setup-tools/kubeadm/kubeadm-init/"><code>kubeadm init</code></a>
and <a href="/docs/reference/setup-tools/kubeadm/kubeadm-join/"><code>kubeadm join</code></a>
to enable the automatic copy of certificates when joining additional control-plane nodes.</p><ul class="nav nav-tabs" id="tab-certs-certificate-key" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-certs-certificate-key-0" role="tab" aria-controls="tab-certs-certificate-key-0" aria-selected="true">certificate-key</a></li></ul><div class="tab-content" id="tab-certs-certificate-key"><div id="tab-certs-certificate-key-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-certs-certificate-key-0"><p><p>Generate certificate keys</p><h3 id="synopsis">Synopsis</h3><p>This command will print out a secure randomly-generated certificate key that can be used with
the "init" command.</p><p>You can also use "kubeadm init --upload-certs" without specifying a certificate key and it will
generate and print one for you.</p><pre tabindex="0"><code>kubeadm certs certificate-key [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for certificate-key</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="cmd-certs-check-expiration">kubeadm certs check-expiration</h2><p>This command checks expiration for the certificates in the local PKI managed by kubeadm.
For more details see
<a href="/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/#check-certificate-expiration">Check certificate expiration</a>.</p><ul class="nav nav-tabs" id="tab-certs-check-expiration" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-certs-check-expiration-0" role="tab" aria-controls="tab-certs-check-expiration-0" aria-selected="true">check-expiration</a></li></ul><div class="tab-content" id="tab-certs-check-expiration"><div id="tab-certs-check-expiration-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-certs-check-expiration-0"><p><p>Check certificates expiration for a Kubernetes cluster</p><h3 id="synopsis">Synopsis</h3><p>Checks expiration for the certificates in the local PKI managed by kubeadm.</p><pre tabindex="0"><code>kubeadm certs check-expiration [flags]
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--allow-missing-template-keys     Default: true</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, ignore any errors in templates when a field or map key is missing in the template. Only applies to golang and jsonpath output formats.</p></td></tr><tr><td colspan="2">--cert-dir string     Default: "/etc/kubernetes/pki"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for check-expiration</p></td></tr><tr><td colspan="2">--kubeconfig string     Default: "/etc/kubernetes/admin.conf"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The kubeconfig file to use when talking to the cluster. If the flag is not set, a set of standard locations can be searched for an existing kubeconfig file.</p></td></tr><tr><td colspan="2">-o, --output string     Default: "text"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Output format. One of: text|json|yaml|go-template|go-template-file|template|templatefile|jsonpath|jsonpath-as-json|jsonpath-file.</p></td></tr><tr><td colspan="2">--show-managed-fields</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, keep the managedFields when printing objects in JSON or YAML format.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="cmd-certs-generate-csr">kubeadm certs generate-csr</h2><p>This command can be used to generate keys and CSRs for all control-plane certificates and kubeconfig files.
The user can then sign the CSRs with a CA of their choice. To read more information
on how to use the command see
<a href="/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/#signing-csr">Signing certificate signing requests (CSR) generated by kubeadm</a>.</p><ul class="nav nav-tabs" id="tab-certs-generate-csr" role="tablist"><li class="nav-item"><a data-toggle="tab" class="nav-link active" href="#tab-certs-generate-csr-0" role="tab" aria-controls="tab-certs-generate-csr-0" aria-selected="true">generate-csr</a></li></ul><div class="tab-content" id="tab-certs-generate-csr"><div id="tab-certs-generate-csr-0" class="tab-pane show active" role="tabpanel" aria-labelledby="tab-certs-generate-csr-0"><p><p>Generate keys and certificate signing requests</p><h3 id="synopsis">Synopsis</h3><p>Generates keys and certificate signing requests (CSRs) for all the certificates required to run the control plane. This command also generates partial kubeconfig files with private key data in the "users &gt; user &gt; client-key-data" field, and for each kubeconfig file an accompanying ".csr" file is created.</p><p>This command is designed for use in <a href="https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-certs/#external-ca-mode">Kubeadm External CA Mode</a>. It generates CSRs which you can then submit to your external certificate authority for signing.</p><p>The PEM encoded signed certificates should then be saved alongside the key files, using ".crt" as the file extension, or in the case of kubeconfig files, the PEM encoded signed certificate should be base64 encoded and added to the kubeconfig file in the "users &gt; user &gt; client-certificate-data" field.</p><pre tabindex="0"><code>kubeadm certs generate-csr [flags]
</code></pre><h3 id="examples">Examples</h3><pre tabindex="0"><code>  # The following command will generate keys and CSRs for all control-plane certificates and kubeconfig files:
  kubeadm certs generate-csr --kubeconfig-dir /tmp/etc-k8s --cert-dir /tmp/etc-k8s/pki
</code></pre><h3 id="options">Options</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--cert-dir string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the certificates</p></td></tr><tr><td colspan="2">--config string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a kubeadm configuration file.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for generate-csr</p></td></tr><tr><td colspan="2">--kubeconfig-dir string     Default: "/etc/kubernetes"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path where to save the kubeconfig file.</p></td></tr></tbody></table><h3 id="options-inherited-from-parent-commands">Options inherited from parent commands</h3><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--rootfs string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The path to the 'real' host root filesystem. This will cause kubeadm to chroot into the provided path.</p></td></tr></tbody></table></p></div></div><h2 id="what-s-next">What's next</h2><ul><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-init/">kubeadm init</a> to bootstrap a Kubernetes control-plane node</li><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-join/">kubeadm join</a> to connect a node to the cluster</li><li><a href="/docs/reference/setup-tools/kubeadm/kubeadm-reset/">kubeadm reset</a> to revert any changes made to this host by <code>kubeadm init</code> or <code>kubeadm join</code></li></ul></div>