<div class="td-content"><h1 data-pagefind-weight="10">kubectl proxy</h1><h2 id="synopsis">Synopsis</h2><p>Creates a proxy server or application-level gateway between localhost and the Kubernetes API server. It also allows serving static content over specified HTTP path. All incoming data enters through one port and gets forwarded to the remote Kubernetes API server port, except for the path matching the static content path.</p><pre tabindex="0"><code>kubectl proxy [--port=PORT] [--www=static-dir] [--www-prefix=prefix] [--api-prefix=prefix]
</code></pre><h2 id="examples">Examples</h2><pre tabindex="0"><code>  # To proxy all of the Kubernetes API and nothing else
  kubectl proxy --api-prefix=/
  
  # To proxy only part of the Kubernetes API and also some static files
  # You can get pods info with 'curl localhost:8001/api/v1/pods'
  kubectl proxy --www=/my/files --www-prefix=/static/ --api-prefix=/api/
  
  # To proxy the entire Kubernetes API at a different root
  # You can get pods info with 'curl localhost:8001/custom/api/v1/pods'
  kubectl proxy --api-prefix=/custom/
  
  # Run a proxy to the Kubernetes API server on port 8011, serving static content from ./local/www/
  kubectl proxy --port=8011 --www=./local/www/
  
  # Run a proxy to the Kubernetes API server on an arbitrary local port
  # The chosen port for the server will be output to stdout
  kubectl proxy --port=0
  
  # Run a proxy to the Kubernetes API server, changing the API prefix to k8s-api
  # This makes e.g. the pods API available at localhost:8001/k8s-api/v1/pods/
  kubectl proxy --api-prefix=/k8s-api
</code></pre><h2 id="options">Options</h2><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--accept-hosts string     Default: "^localhost$,^127\.0\.0\.1$,^\[::1\]$"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Regular expression for hosts that the proxy should accept.</p></td></tr><tr><td colspan="2">--accept-paths string     Default: "^.*"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Regular expression for paths that the proxy should accept.</p></td></tr><tr><td colspan="2">--address string     Default: "127.0.0.1"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The IP address on which to serve on.</p></td></tr><tr><td colspan="2">--api-prefix string     Default: "/"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Prefix to serve the proxied API under.</p></td></tr><tr><td colspan="2">--append-server-path</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, enables automatic path appending of the kube context server path to each request.</p></td></tr><tr><td colspan="2">--disable-filter</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, disable request filtering in the proxy. This is dangerous, and can leave you vulnerable to XSRF attacks, when used with an accessible port.</p></td></tr><tr><td colspan="2">-h, --help</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>help for proxy</p></td></tr><tr><td colspan="2">--keepalive duration</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>keepalive specifies the keep-alive period for an active network connection. Set to 0 to disable keepalive.</p></td></tr><tr><td colspan="2">-p, --port int     Default: 8001</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The port on which to run the proxy. Set to 0 to pick a random port.</p></td></tr><tr><td colspan="2">--reject-methods string     Default: "^$"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Regular expression for HTTP methods that the proxy should reject (example --reject-methods='POST,PUT,PATCH').</p></td></tr><tr><td colspan="2">--reject-paths string     Default: "^/api/.*/pods/.*/exec,<br/>^/api/.*/pods/.*/attach"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Regular expression for paths that the proxy should reject. Paths specified here will be rejected even accepted by --accept-paths.</p></td></tr><tr><td colspan="2">-u, --unix-socket string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Unix socket on which to run the proxy.</p></td></tr><tr><td colspan="2">-w, --www string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Also serve static files from the given directory under the specified prefix.</p></td></tr><tr><td colspan="2">-P, --www-prefix string     Default: "/static/"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Prefix to serve static files under, if static file directory is specified.</p></td></tr></tbody></table><h2 id="parent-options-inherited">Parent Options Inherited</h2><table style="width:100%;table-layout:fixed"><col span="1" style="width:10px"/><col span="1"/><tbody><tr><td colspan="2">--as string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Username to impersonate for the operation. User could be a regular user or a service account in a namespace.</p></td></tr><tr><td colspan="2">--as-group strings</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Group to impersonate for the operation, this flag can be repeated to specify multiple groups.</p></td></tr><tr><td colspan="2">--as-uid string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>UID to impersonate for the operation.</p></td></tr><tr><td colspan="2">--cache-dir string     Default: "$HOME/.kube/cache"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Default cache directory</p></td></tr><tr><td colspan="2">--certificate-authority string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a cert file for the certificate authority</p></td></tr><tr><td colspan="2">--client-certificate string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a client certificate file for TLS</p></td></tr><tr><td colspan="2">--client-key string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to a client key file for TLS</p></td></tr><tr><td colspan="2">--cluster string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The name of the kubeconfig cluster to use</p></td></tr><tr><td colspan="2">--context string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The name of the kubeconfig context to use</p></td></tr><tr><td colspan="2">--disable-compression</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, opt-out of response compression for all requests to the server</p></td></tr><tr><td colspan="2">--insecure-skip-tls-verify</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If true, the server's certificate will not be checked for validity. This will make your HTTPS connections insecure</p></td></tr><tr><td colspan="2">--kubeconfig string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to the kubeconfig file to use for CLI requests.</p></td></tr><tr><td colspan="2">--kuberc string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Path to the kuberc file to use for preferences. This can be disabled by exporting KUBECTL_KUBERC=false feature gate or turning off the feature KUBERC=off.</p></td></tr><tr><td colspan="2">--match-server-version</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Require server version to match client version</p></td></tr><tr><td colspan="2">-n, --namespace string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>If present, the namespace scope for this CLI request</p></td></tr><tr><td colspan="2">--password string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Password for basic authentication to the API server</p></td></tr><tr><td colspan="2">--profile string     Default: "none"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Name of profile to capture. One of (none|cpu|heap|goroutine|threadcreate|block|mutex)</p></td></tr><tr><td colspan="2">--profile-output string     Default: "profile.pprof"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Name of the file to write the profile to</p></td></tr><tr><td colspan="2">--request-timeout string     Default: "0"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The length of time to wait before giving up on a single server request. Non-zero values should contain a corresponding time unit (e.g. 1s, 2m, 3h). A value of zero means don't timeout requests.</p></td></tr><tr><td colspan="2">-s, --server string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The address and port of the Kubernetes API server</p></td></tr><tr><td colspan="2">--storage-driver-buffer-duration duration     Default: 1m0s</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Writes in the storage driver will be buffered for this duration, and committed to the non memory backends as a single transaction</p></td></tr><tr><td colspan="2">--storage-driver-db string     Default: "cadvisor"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>database name</p></td></tr><tr><td colspan="2">--storage-driver-host string     Default: "localhost:8086"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>database host:port</p></td></tr><tr><td colspan="2">--storage-driver-password string     Default: "root"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>database password</p></td></tr><tr><td colspan="2">--storage-driver-secure</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>use secure connection with database</p></td></tr><tr><td colspan="2">--storage-driver-table string     Default: "stats"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>table name</p></td></tr><tr><td colspan="2">--storage-driver-user string     Default: "root"</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>database username</p></td></tr><tr><td colspan="2">--tls-server-name string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Server name to use for server certificate validation. If it is not provided, the hostname used to contact the server is used</p></td></tr><tr><td colspan="2">--token string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Bearer token for authentication to the API server</p></td></tr><tr><td colspan="2">--user string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>The name of the kubeconfig user to use</p></td></tr><tr><td colspan="2">--username string</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Username for basic authentication to the API server</p></td></tr><tr><td colspan="2">--version version[=true]</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>--version, --version=raw prints version information and quits; --version=vX.Y.Z... sets the reported version</p></td></tr><tr><td colspan="2">--warnings-as-errors</td></tr><tr><td/><td style="line-height:130%;word-wrap:break-word"><p>Treat warnings received from the server as errors and exit with a non-zero exit code</p></td></tr></tbody></table><h2 id="see-also">See Also</h2><ul><li><a href="../kubectl/">kubectl</a> - kubectl controls the Kubernetes cluster manager</li></ul><div class="section-index"/></div>